// LogeTogo/apps/api/prisma/schema.prisma
// ğŸ—„ï¸ SchÃ©ma Prisma de BASE pour Issue #1 uniquement
// 
// âš ï¸ IMPORTANT: Ceci est un schÃ©ma MINIMAL pour tester la connexion
// Le schÃ©ma complet sera crÃ©Ã© dans l'Issue #2

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// ğŸ§ª ModÃ¨le de test pour vÃ©rifier la connexion DB
// Ce modÃ¨le simple nous permet de tester que tout fonctionne
model HealthCheck {
  id        String   @id @default(cuid())
  status    String   @default("healthy")
  message   String?
  timestamp DateTime @default(now())
  
  // Index pour les requÃªtes de monitoring
  @@index([timestamp])
  @@map("health_checks")
}

// ğŸ‘¤ ModÃ¨le User TRÃˆS basique pour Issue #1
// Sera Ã©tendu massivement dans Issue #2
model User {
  id        String   @id @default(cuid())
  email     String   @unique
  firstName String
  lastName  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  // Index pour les recherches par email
  @@index([email])
  @@map("users")
}

// ğŸ  ModÃ¨le Property TRÃˆS basique pour Issue #1  
// Sera Ã©tendu massivement dans Issue #2
model Property {
  id          String   @id @default(cuid())
  title       String
  description String
  price       Int      // Prix en FCFA (centimes pour prÃ©cision)
  city        String
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  // Index pour les recherches courantes
  @@index([city, isActive])
  @@index([price])
  @@map("properties")
}